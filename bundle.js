var CordicApp;(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{run:()=>P,setup:()=>z,updateAngleInput:()=>_,updateIterationsOutput:()=>v});let n,o=[];const a=document.getElementById("visualizer"),l=document.getElementById("visualizerContainer");var r=a.getContext("2d");let i=128,u=128,c=120;function d(){const e=l.getBoundingClientRect();a.height=e.height,a.width=e.width,i=e.width/2,u=e.height/2,c=.95*e.width/2}function h(e,t,n,o){r.beginPath(),r.moveTo(i+e*c,u-t*c),r.lineTo(i,u),r.strokeStyle=n,r.lineWidth=o,r.stroke()}const g=document.getElementById("visualizer");function s(e){const t=g.getBoundingClientRect(),n=e.clientX-t.width/2-t.left,o=e.clientY-t.height/2-t.top;let a=Math.atan2(o,-n);return a+=Math.PI,a}let f=null,y=null;const p=document.getElementById("angleInput"),M=document.getElementById("visualizer"),I=document.getElementById("iterationsInput"),m=document.getElementById("iterationsOutput");function v(){!function(e,t){const n=Number(100*(e.value-e.min)/(e.max-e.min));e.value===e.min||e.value===e.max?t.innerHTML="":(t.innerHTML=e.value,t.style.left="calc("+n+"% + "+(8-.14*n)+"px)")}(I,m)}function _(e){const t=function(e){if(!f)return null;const t=s(e),n=t-y;return y=t,n}(e);if(null!==t){let e=parseInt(p.value);e+=180*t/Math.PI,e<0&&(e+=360),e>360&&(e-=360),p.value=Math.floor(e),P()}}function z(){const e=I.value;e>0&&(o=function(e){let t=[];for(let n=0;n<e;n++)t.push(Math.atan(Math.pow(2,-n)));return t}(e),n=function(e){let t=1;return e.forEach((e=>{t*=Math.cos(e)})),t}(o))}function P(){const e=p.value*Math.PI/180;let t=null;I.value>0&&(t=function(e){const t=function(e,t){let n=e.x_zero,o=e.y_zero,a=e.angle;for(let e=0;e<t.length;e++){let l=a<0?-1:1,r=n-l*o*Math.pow(2,-e),i=o+l*n*Math.pow(2,-e);n=r,o=i,a-=l*t[e]}return{x_n:n,y_n:o}}(function(e){let t;return t=e.angle>=0&&e.angle<=Math.PI/4?e:e.angle>=Math.PI/4&&e.angle<=3*Math.PI/4?{x_zero:-e.y_zero,y_zero:e.x_zero,angle:e.angle-Math.PI/2}:e.angle>=3*Math.PI/4&&e.angle<=5*Math.PI/4?{x_zero:-e.x_zero,y_zero:-e.y_zero,angle:e.angle-Math.PI}:e.angle>=5*Math.PI/4&&e.angle<=7*Math.PI/4?{x_zero:e.y_zero,y_zero:-e.x_zero,angle:e.angle-3*Math.PI/2}:{x_zero:e.x_zero,y_zero:e.y_zero,angle:e.angle-2*Math.PI},t}({x_zero:n,y_zero:0,angle:e}),o);return{cos:t.x_n,sin:t.y_n}}(e)),r.clearRect(0,0,a.width,a.height),r.strokeStyle="#000000",r.lineWidth=1,r.beginPath(),r.arc(i,u,c,0,2*Math.PI),r.stroke(),h(Math.cos(e),Math.sin(e),"#FF0000",5),t?h(t.cos,t.sin,"#000000",2):h(1,0,"#000000",2)}window.addEventListener("load",(function(){d(),z(),P()})),window.addEventListener("resize",(function(){d(),P()})),M.addEventListener("pointerdown",(function(e){f=!0,y=s(e)})),M.addEventListener("pointerup",(function(e){f=!1})),M.addEventListener("pointermove",_),CordicApp=t})();